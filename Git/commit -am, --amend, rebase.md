# commit -am

__(파일이 commit된 후의 상태여야함)__ 이 후 파일내에서 수정이 발생하고, 새로운 버전을 커밋할 경우 `git add` 없이 `git commit -am`으로 한번에 add, msg작성 작업을 할 수 있다.

`git commit -a` 명령은 이전에 commit되었던 파일들 중 tracked, modified된 파일들을 자동적으로 stage하는 것이다. 

# commit --amend

마지막 커밋 메세지를 수정하는 방법이다. 이 명령은 자동으로 텍스트 편집기를 실행시켜 마지막 커밋 메세지를 열어준다. vim 편집기로 열리고 메세지를 바꾼 뒤 종료하면된다.  

반대로 커밋 메세지가 아닌 프로젝트의 내용을 수정한 경우가 있다. 커밋 후 새로 만든 파일이나 수정한 파일을 가장 최근 커밋에 집어넣을 수 있다.
-> 파일을 수정하고 `git add` 명령으로 Staging Area에 넣고, `git commit --amend` 명령으로 커밋하면 커밋 자체가 수정되면서 추가로 수정사항을 밀어넣을 수 있다.  

일반적으로 파일의 내용을 수정 후 `git add`, `git commit`으로 새로운 커밋을 만드는데, 커밋을 새로 만드는것이 아닌 이미 커밋된 내용을 바꾸고 싶을때 `git commit --amend` 명령어를 사용한다.

## git rebase 커밋 메세지를 여러개 수정하기

최근 커밋이 아닌 예전 커밋을 수정하기 위한 명령이다.  

예를 들어 마지막 커밋 메세지 3개를 수정하거나 그중 몇개를 수정할때를 알아보자, `git rebase -i`의 인자로 편집하려는 마지막 커밋의 부모를 `HEAD~2^`나 `HEAD~3`로 해서 넘긴다. 

```
$ git rebase -i HEAD-3 // 수정하려는 커밋의 부모인 4번째 이전 커밋을 뜻함
```

이 명령은 rebase하는 것이기 때문에 메시지의 수정 여부에 관계없이 HEAD~3..HEAD 범위에 있는 모든 커밋을 수정한다. (__이떄 중앙서버에 Push한 커밋은 절대 고치지 말아야 한다__)  

이 명령을 실행하면 git은 수정하려는 커밋 목록이 첨부된 Scripts를 vim 편집기로 열어준다.  