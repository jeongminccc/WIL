# 메모리 공간의 구조

<img src="https://media.vlpt.us/images/goserimgoserimgo/post/5e3e1d1f-94d8-4e09-b55f-620ebb00c071/_2020-08-02__10.36.08.png"><br/>

## Code 영역

__사용자가 작성한 코드__ 가 컴파일 된 후 기계어 형태로 저장되어 있는 영역  

프로그램이 실행되고 끝날 때 까지 메모리에 남아있다  

## Data 영역

프로그램의 __전역 변수와 Static 변수 등이 저장되어 있는 영역__  

메인 함수가 호출되기 전에 데이터 영역에 할당 된다  

Data영역은 __BSS 영역, Data영역 으로 나뉜다__  

- BSS(Block Stated Symbol) 영역은 초기화 되지 않은 변수들이 0의 값을 가진채 저장되는 영역이다.  

- Data 영역은 초기화가 이루어진 변수들이 저장된다.  

-> 왜 BSS와 Data로 나누는지??  

Data 영역은 ROM에 위치하는데, 전역 변수와 Static 변수의 경우 런타임에도 값이 변하기 때문에 __Data 영역을 RAM에 복사하여 저장한다__.  

그런데 초기화 되어있지 않은 변수들까지 ROM에 저장하면 오버헤드가 너무 커지기 때문에 __애초에 ROM이 아닌 RAM위에 BSS 영역을 새로 만들어 저장하게 되었다__.  

## Heap 영역

프로그램이 실행되는 동안 동적으로 사용할 데이터가 저장  

__사용자에 의해 메모리가 동적으로 할당, 해제 됨__  

- C의 경우 사용자가 동적으로 할당, 해제하지만 Java의 경우 GC가 관리해줌  

__런타임 시 Heap 영역의 크기가 결정된다__  

## Stack 영역

함수 호출시 생성되는 __지역 변수와 매개 변수가 저장된다.__  

함수 호출시 할당되며 함수의 실행이 끝나면 메모리에서 해제된다.  

__컴파일 시 Stack 영역의 크기가 결정된다__  